# Розгортання (Деплой) проекту Світ Валют

Цей проект підготовлено до розгортання в різних середовищах. Нижче наведено базові інструкції для двох найпопулярніших варіантів.

## Варіант 1: Власний сервер / VPS (Рекомендовано)
Цей метод використовує `docker-compose`, що дозволяє запустити відразу і бекенд, і фронтенд однією командою. Підходить для серверів від DigitalOcean, Hetzner, AWS EC2 тощо.

1. **Клонуйте репозиторій** на свій сервер.
2. **Встановіть Docker та Docker Compose** на сервері (якщо вони ще не встановлені).
3. Відкрийте файл `frontend/.env.production` і змініть посилання на IP вашого сервера або ваш домен, якщо він підключений.
4. Знаходячись у кореневій папці проекту, виконайте команду:
   ```bash
   docker-compose up -d --build
   ```
5. Дочекайтеся завершення збірки.
6. Ваш застосунок буде доступним на **порті 80** для фронтенду та **8000** для бекенду.
*(Примітка: в робочому середовищі рекомендується налаштувати Nginx Proxy Manager або Traefik для отримання безкоштовного SSL сертифікату від Let's Encrypt).*

---

## Варіант 2: Render.com (Безкоштовний хмарний хостинг)
Проект містить файл `render.yaml`, який дозволяє автоматичному сервісу [Render](https://render.com) розгорнути 2 сервіси та базу даних автоматично.

1. Створіть акаунт на **Render.com** (можна увійти через GitHub).
2. Запуште ваш оновлений код на власний репозиторій у GitHub (Public або Private).
3. На Render натисніть кнопку **"New" -> "Blueprint"**.
4. Підключіть ваш репозиторій.
5. Render автоматично прочитає файл `render.yaml` і створить:
   - Безкоштовну базу даних PostgreSQL (`svit-valut-db`)
   - Бекенд (`svit-valut-api`)
   - Фронтенд (`svit-valut-web`)
6. Під час розгортання фронтенд автоматично отримає посилання на онлайн-бекенд.
7. Після завершення ви отримаєте готове посилання (`svit-valut-web.onrender.com`).

---

## Варіант 3: Ручне розгортання (Monolithic)
Якщо ви бажаєте розгорнути лише один процес FastAPI, який в тому числі роздаватиме статичний фронтенд:

1. Скомпілюйте фронтенд:
   ```bash
   cd frontend
   npm run build
   ```
2. Скопіюйте створену папку `dist` з фронтенду та покладіть її до папки бекенду з назвою `frontend`:
   ```bash
   cp -r frontend/dist/assets backend/frontend/assets
   # І так далі згідно з налаштуваннями StaticFiles в main.py
   ```
3. Запустіть бекенд через Gunicorn або Uvicorn з прив'язкою до Nginx:
   ```bash
   uvicorn main:app --host 127.0.0.1 --port 8000
   ```
4. Налаштуйте Nginx на перенаправлення трафіку до `localhost:8000`.
